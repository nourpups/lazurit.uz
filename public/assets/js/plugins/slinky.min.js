/* Slinky Rather sweet menus @author Ali Zahid */
!function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){function n(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var s=(r(a,[{key:"options",get:function(){return{resize:!0,speed:300,theme:"slinky-theme-default",title:!1}}}]),r(a,[{key:"_init",value:function(e){this.menu=jQuery(e),this.base=this.menu.children().first();var t=this.menu,n=this.settings;t.addClass("slinky-menu").addClass(n.theme),this._transition(n.speed),jQuery("a + ul",t).prev().addClass("next"),jQuery("li > a",t).wrapInner("<span>");e=jQuery("<li>").addClass("header");jQuery("li > ul",t).prepend(e);e=jQuery("<a>").prop("href","#").addClass("back");jQuery(".header",t).prepend(e),n.title&&jQuery("li > ul",t).each(function(e,t){var n=jQuery(t).parent().find("a").first().text();n&&(n=jQuery("<header>").addClass("title").text(n),jQuery("> .header",t).append(n))}),this._addListeners(),this._jumpToInitial()}},{key:"_addListeners",value:function(){var n=this,i=this.menu,r=this.settings;jQuery("a",i).on("click",function(e){if(n._clicked+r.speed>Date.now())return!1;n._clicked=Date.now();var t=jQuery(e.currentTarget);(0===t.attr("href").indexOf("#")||t.hasClass("next")||t.hasClass("back"))&&e.preventDefault(),t.hasClass("next")?(i.find(".active").removeClass("active"),t.next().show().addClass("active"),n._move(1),r.resize&&n._resize(t.next())):t.hasClass("back")&&(n._move(-1,function(){i.find(".active").removeClass("active"),t.parent().parent().hide().parentsUntil(i,"ul").first().addClass("active")}),r.resize&&n._resize(t.parent().parent().parentsUntil(i,"ul")))})}},{key:"_jumpToInitial",value:function(){var e=this.menu,t=this.settings,n=e.find(".active");0<n.length&&(n.removeClass("active"),this.jump(n,!1)),setTimeout(function(){return e.height(e.outerHeight())},t.speed)}},{key:"_move",value:function(){var e,t,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};0!==i&&(e=this.settings,t=this.base,n=Math.round(parseInt(t.get(0).style.left))||0,t.css("left","".concat(n-100*i,"%")),"function"==typeof r&&setTimeout(r,e.speed))}},{key:"_resize",value:function(e){this.menu.height(e.outerHeight())}},{key:"_transition",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:300,t=this.menu,n=this.base;t.css("transition-duration","".concat(e,"ms")),n.css("transition-duration","".concat(e,"ms"))}},{key:"jump",value:function(e){var t,n,i,r,s,a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e&&(s=this.menu,t=this.settings,n=jQuery(e),(r=0)<(i=s.find(".active")).length&&(r=i.parentsUntil(s,"ul").length),s.find("ul").removeClass("active").hide(),(s=n.parentsUntil(s,"ul")).show(),n.show().addClass("active"),a||this._transition(0),this._move(s.length-r),t.resize&&this._resize(n),a||this._transition(t.speed))}},{key:"home",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.base,n=this.menu,i=this.settings;e||this._transition(0);var r=n.find(".active"),s=r.parentsUntil(n,"ul");this._move(-s.length,function(){r.removeClass("active").hide(),s.not(t).hide()}),i.resize&&this._resize(t),!1===e&&this._transition(i.speed)}},{key:"destroy",value:function(){var t=this,e=this.base,n=this.menu;jQuery(".header",n).remove(),jQuery("a",n).removeClass("next").off("click"),n.css({height:"","transition-duration":""}),e.css({left:"","transition-duration":""}),jQuery("li > a > span",n).contents().unwrap(),n.find(".active").removeClass("active"),n.attr("class").split(" ").forEach(function(e){0===e.indexOf("slinky")&&n.removeClass(e)}),["settings","menu","base"].forEach(function(e){return delete t[e]})}}]),a);function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.settings=function(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(r,!0).forEach(function(e){var t,n;t=i,e=r[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}({},this.options,{},t),this._init(e)}jQuery.fn.slinky=function(e){return new s(this,e)}},function(e,t,n){}]),function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){function n(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var s=(r(a,[{key:"options",get:function(){return{resize:!0,speed:300,theme:"slinky-theme-default",title:!1}}}]),r(a,[{key:"_init",value:function(e){this.menu=jQuery(e),this.base=this.menu.children().first();var t=this.menu,n=this.settings;t.addClass("slinky-menu").addClass(n.theme),this._transition(n.speed),jQuery("a + ul",t).prev().addClass("next"),jQuery("li > a",t).wrapInner("<span>"),e=jQuery("<li>").addClass("header"),jQuery("li > ul",t).prepend(e),e=jQuery("<a>").prop("href","#").addClass("back"),jQuery(".header",t).prepend(e),n.title&&jQuery("li > ul",t).each(function(e,t){var n=jQuery(t).parent().find("a").first().text();n&&(n=jQuery("<header>").addClass("title").text(n),jQuery("> .header",t).append(n))}),this._addListeners(),this._jumpToInitial()}},{key:"_addListeners",value:function(){var n=this,i=this.menu,r=this.settings;jQuery("a",i).on("click",function(e){if(n._clicked+r.speed>Date.now())return!1;n._clicked=Date.now();var t=jQuery(e.currentTarget);(0===t.attr("href").indexOf("#")||t.hasClass("next")||t.hasClass("back"))&&e.preventDefault(),t.hasClass("next")?(i.find(".active").removeClass("active"),t.next().show().addClass("active"),n._move(1),r.resize&&n._resize(t.next())):t.hasClass("back")&&(n._move(-1,function(){i.find(".active").removeClass("active"),t.parent().parent().hide().parentsUntil(i,"ul").first().addClass("active")}),r.resize&&n._resize(t.parent().parent().parentsUntil(i,"ul")))})}},{key:"_jumpToInitial",value:function(){var e=this.menu,t=this.settings,n=e.find(".active");0<n.length&&(n.removeClass("active"),this.jump(n,!1)),setTimeout(function(){return e.height(e.outerHeight())},t.speed)}},{key:"_move",value:function(){var e,t,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};0!==i&&(e=this.settings,t=this.base,n=Math.round(parseInt(t.get(0).style.left))||0,t.css("left","".concat(n-100*i,"%")),"function"==typeof r&&setTimeout(r,e.speed))}},{key:"_resize",value:function(e){this.menu.height(e.outerHeight())}},{key:"_transition",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:300,t=this.menu,n=this.base;t.css("transition-duration","".concat(e,"ms")),n.css("transition-duration","".concat(e,"ms"))}},{key:"jump",value:function(e){var t,n,i,r,s,a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e&&(s=this.menu,t=this.settings,n=jQuery(e),(r=0)<(i=s.find(".active")).length&&(r=i.parentsUntil(s,"ul").length),s.find("ul").removeClass("active").hide(),(s=n.parentsUntil(s,"ul")).show(),n.show().addClass("active"),a||this._transition(0),this._move(s.length-r),t.resize&&this._resize(n),a||this._transition(t.speed))}},{key:"home",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.base,n=this.menu,i=this.settings;e||this._transition(0);var r=n.find(".active"),s=r.parentsUntil(n,"ul");this._move(-s.length,function(){r.removeClass("active").hide(),s.not(t).hide()}),i.resize&&this._resize(t),!1===e&&this._transition(i.speed)}},{key:"destroy",value:function(){var t=this,e=this.base,n=this.menu;jQuery(".header",n).remove(),jQuery("a",n).removeClass("next").off("click"),n.css({height:"","transition-duration":""}),e.css({left:"","transition-duration":""}),jQuery("li > a > span",n).contents().unwrap(),n.find(".active").removeClass("active"),n.attr("class").split(" ").forEach(function(e){0===e.indexOf("slinky")&&n.removeClass(e)}),["settings","menu","base"].forEach(function(e){return delete t[e]})}}]),a);function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.settings=function(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(r,!0).forEach(function(e){var t,n=i;e=r[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}({},this.options,{},t),this._init(e)}jQuery.fn.slinky=function(e){return new s(this,e)}},function(e,t,n){}]);
